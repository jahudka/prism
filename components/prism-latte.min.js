!function(e){function a(e,a,t){var n=new RegExp("^\\{\\{?"+(t?"\\/?":"")+(e?e.source:"(?!\\s)")),r={"macro-open":{pattern:n,inside:{punctuation:/^\{\{?\/?/}},"macro-close":{pattern:/\}?\}$/,inside:{punctuation:/.+/}},rest:a};return e&&(r["macro-open"].inside.keyword=e),r}var t={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:{rest:e.languages.php}},n={string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:t}}],number:/\b0x[\dA-Fa-f]+|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,{pattern:/(->)(?!\d)\w+/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],filter:{pattern:/((?:^|[^|])\|\s*)(?!\d)\w+/,lookbehind:!0,alias:"function"},"function":/\b(?!\d)\w+(?=\s*\()/,keyword:[{pattern:/\b(?:true|false)\b/,alias:"boolean"},{pattern:/\b(?:null|as)\b/},{pattern:/\b(?:or|and)\b/,alias:"operator"}],word:{pattern:/:?[a-zA-Z0-9_.-]+(?::[a-zA-Z0-9_.-]+)*[:!]?(?=[\s,\])]|$)/,alias:"string"},operator:/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,punctuation:/[\[\]().,:`]+|->|=>/};e.languages.latte={comment:{pattern:/\{\{\*[\s\S]*?\*\}\}|\{\*[\s\S]*?\*\}/,greedy:!0},"macro-php":{pattern:/\{\{php[\s\S]*?\}\}|\{php[\s\S]*?\}/,greedy:!0,inside:a(/php/,e.languages.php)},macro:{pattern:/\{\{\/?(?:[!_]|[a-zA-Z][a-zA-Z0-9_.]+(?=\s|\}))[\s\S]*?\}\}|\{\/?(?:[!_]|[a-zA-Z][a-zA-Z0-9_.]+(?=\s|\}))[\s\S]*?\}/,greedy:!0,inside:a(/[a-zA-Z0-9_.!]+/,n,!0)},expression:{pattern:/\{\{(?!\s)[\s\S]*?\}\}|\{(?!\s)[\s\S]*?\}/,greedy:!0,inside:a(null,n)}},e.languages.markup&&e.languages.insertBefore("inside","attr-value",{"latte-n-macro":{pattern:/\s*n:[a-zA-Z][a-zA-Z0-9._-]*(?:=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1)?/,alias:"language-latte",inside:{"macro-name":{pattern:/\s*n:[a-zA-Z][a-zA-Z0-9._-]*/,alias:"attr-name function"},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:n}}}},e.languages.markup.tag),e.hooks.add("before-tokenize",function(a){if(/(?:\{[a-zA-Z$_!])/gi.test(a.code)){var t=/\{\{\*[\s\S]*?\*\}\}|\{\{(?!\s)[\s\S]+?\}\}|\{\*[\s\S]*?\*\}|\{(?!\s)[\s\S]+?\}/g,n=/^\{\{?syntax\s+(latte|double|off)\}?\}$/,r={off:0,latte:1,"double":2},s=1;e.languages["markup-templating"].buildPlaceholders(a,"latte",t,function(e){if(1>s)return!1;var a,t;switch(s){case 0:return!1;case 1:a="{"!==e.charAt(1);break;case 2:a="{"===e.charAt(1)}return(t=a?n.exec(e):null)&&(s=r[t[1]]),a})}}),e.hooks.add("after-tokenize",function(a){e.languages["markup-templating"].tokenizePlaceholders(a,"latte")})}(Prism);